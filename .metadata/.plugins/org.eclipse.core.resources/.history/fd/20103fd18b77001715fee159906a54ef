import java.net.ServerSocket;
import java.net.Socket;
import java.util.HashMap;
import java.util.LinkedList;


public class NsComm {
	private LinkedList sock_list=null;
	private HashMap nsconn_list=null;
	private int port = 0;

	class NsListen implements Runnable {
		public NsListen(int p) {
			// TODO Auto-generated constructor stub
			port=p;
			sock_list=new LinkedList();
			nsconn_list=new HashMap();
		}

		public void run() {
			// TODO Auto-generated method stub
			ServerSocket serv=null;
			
			try {
				serv = new ServerSocket(port);
			}
			catch (Exception e) {
				e.printStackTrace();
				return;
			}
			
			new Thread(new NsUpLink()).start();
			new Thread(new NsDnLink()).start();

			while(true) {
				try {
					Socket s=serv.accept();
					sock_list.add(s);
				}
				catch (Exception e) {
					e.printStackTrace();
				}
			}
		}
	}

	class NsUpLink implements Runnable {

		public void run() {
			// TODO Auto-generated method stub
			
		}
		
	}

	class NsDnLink implements Runnable {

		public void run() {
			// TODO Auto-generated method stub
			
		}
	}
}
